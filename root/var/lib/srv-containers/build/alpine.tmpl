FROM docker.io/alpine:@tag@

LABEL description="base alpine linux @tag@" maintainer="Pierre Dorgueil <pierre.dorgueil@gmail.com>"

# install addon software, enable system services, set passwords to 'alpine', make app-adm sudoer
RUN apk add \
      apk-file \
      bash \
      bash-completion \
      bash-doc \
      bind-tools \
      curl \
      man-db \
      man-pages \
      mlocate \
      ncurses \
      networkmanager \
      nmap \
      openrc \
      openssh-server-pam \
      shadow \
      sudo \
      vim \
      ;\
    mkdir /run/openrc; touch /run/openrc/softlevel; \
    for s in sshd; do rc-update add $s; done; \
    rm -f /etc/init.d/agetty; sed -i '/^tty/s/^/#/' /etc/inittab; \
    ln -s /usr/share/bash-completion/bash_completion /etc; \
